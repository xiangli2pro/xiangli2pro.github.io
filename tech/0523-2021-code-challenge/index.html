<!DOCTYPE html>
<html lang="en" data-theme=""><head>
    <title> Xiang Li | Coding challenge May of 2021 </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.81.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="">
    
    <link rel="stylesheet"
          href="https://xiangli2pro.github.io/css/style.min.0c643de4008adca329f7a2d616ce308cca99d4ef45e4cca307323e7857910194.css"
          integrity="sha256-DGQ95ACK3KMp96LWFs4wjMqZ1O9F5MyjBzI&#43;eFeRAZQ="
          crossorigin="anonymous"
          type="text/css">
    
    <link rel="stylesheet"
        href="https://xiangli2pro.github.io/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
        integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4="
        crossorigin="anonymous"
        type="text/css">
    
        
        
        <link rel="stylesheet"
        href="https://xiangli2pro.github.io/css/customer.min.fa6f0e653bb87420e04c85c34826e55f8125633aaaf4994d46996a715d4b3a85.css"
        integrity="sha256-&#43;m8OZTu4dCDgTIXDSCblX4ElYzqq9JlNRplqcV1LOoU="
        crossorigin="anonymous"
        media="screen" />
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="https://xiangli2pro.github.io/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://xiangli2pro.github.io/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://xiangli2pro.github.io/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://xiangli2pro.github.io/favicons/favicon-16x16.png">

    <link rel="canonical" href="https://xiangli2pro.github.io/tech/0523-2021-code-challenge/">

    
    
    
    
    <script type="text/javascript"
            src="https://xiangli2pro.github.io/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js"
            integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ="
            crossorigin="anonymous"></script>


    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://xiangli2pro.github.io/images/dandan.jpeg"/>

<meta name="twitter:title" content="Coding challenge May of 2021"/>
<meta name="twitter:description" content="This post may not be very informative, but I feel compelled to write something to keep the blog updated regularly, otherwise the guilty feeling of not keeping the commitment would haunt me all the time üòê."/>


    

</head>
<body><div class="sidebar animated fadeInDown ">
    <div class="logo-title">
        <div class="title">
            <img src="https://xiangli2pro.github.io/images/dandan.jpeg" alt="profile picture">
            <h3 title=""><a href="/">Xiang Li</a></h3>
            <div class="description">
                <p></p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://www.linkedin.com/in/xiang-li-505757129/" rel="me" aria-label="Linkedin">
                    <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/xiangli2pro" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:xiangli2pro@gmail.com" rel="me" aria-label="e-mail">
                    <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Xiang Li  2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  animated fadeInDown ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/about/"
                        
                   title="">About</a></li>
        
            
            <li><a 
                   href="/tech/"
                        
                   title="">Tech</a></li>
        
            
            <li><a 
                   href="/life/"
                        
                   title="">Life</a></li>
        
            
            <li><a 
                   href="/resource/"
                        
                   title="">Resource</a></li>
        
        
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post  animated fadeInDown ">
        <div class="post-content">
            
            <div class="post-title">
                <h3>Coding challenge May of 2021</h3>
                
                    <div class="info">
                        <em class="fas fa-calendar-day"></em>
                        <span class="date"> Sun, May 23, 2021
                                           </span>
                        <em class="fas fa-stopwatch"></em>
                        <span class="reading-time">5-minute read</span>
                        
                        <span class="separator"><a class="tag" href="/tags/python/">python</a><a class="tag" href="/tags/regex/">regex</a></span>

                    </div>
                
            </div>

            <p>¬†</p>
<p>This post may not be very informative, but I feel compelled to write something to keep the blog updated regularly, otherwise the guilty feeling of not keeping the commitment would haunt me all the time üòê.  The thing is that I will start a summer internship in June, which will require me to do intensive coding using python. So in order to be better prepared, I decided to set up a 10-days python bootcamp for myself from May 20th to May 29th, during which I will complete one coding assignment each day on <a href="https://www.pythonmorsels.com">Python Morsels</a> website, which I personally think is a great resource to practice coding in pythonic way, especially for people like me who started from R programming then transferred to python.</p>
<p>Though it&rsquo;s not recommended to binge-practicing those coding exercises, I think that 10 assignments for 10 days is a pretty reasonable bootcamp plan, taken into account that the starting date of the internship is right at the corner and that I am being available recently. Typically it would take me about one to two hours to finish one exercise, including writing answers, checking solutions, and reading those reference materials. The coding exercises are different from those algorithmic problems one would encounter on platforms such as <a href="https://leetcode.com">Leetcode</a>, they focus on pythonic mindset and code readability. I don&rsquo;t have any plan on which 10 questions to practice on, I will just keep chill and randomly choose them, and I will comeback after the bootcamp to write another post to report what I have learnt.</p>
<p>As you may have noticed, the bootcamp started on May 20th, but at the time when I write the post, it&rsquo;s already May 23rd. So yes, I am glad to announce that the plan is going smoothly into the fourth day as planned üòé, and I do have something to share. One of the assignment I completed involves using <code>regex</code> module, and there is a great <a href="https://pycon2017.regex.training/exercises.html">tutorial</a> on this topic, accompanied with some very useful exercises. I have prepared solutions for those exercises, as shown below. Details of the exercises descriptions can be found by clicking the tutorial link above.</p>
<p>¬†</p>
<h4 id="1-validation-exercises">1. Validation Exercises</h4>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">calendar</span>

<span class="k">def</span> <span class="nf">has_vowel</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string contains one or more vowels.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[aeiou]&#39;</span><span class="p">,</span><span class="n">string</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">is_integer</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string represents a valid integer.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^-?[0-9]+$&#39;</span><span class="p">,</span><span class="n">string</span><span class="p">))</span>
    <span class="c1">#######</span>
    <span class="c1"># note: put -? after ^</span>
    <span class="c1">#######</span>

<span class="k">def</span> <span class="nf">is_fraction</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string represents a valid fraction.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^-?[0-9]+/[0]*[1-9]+[0-9]*&#39;</span><span class="p">,</span><span class="n">string</span><span class="p">))</span>
    <span class="c1">#######</span>
    <span class="c1"># note: put -? after ^, and the expression for at least one not equal to zero</span>
    <span class="c1">#######</span>

<span class="k">def</span> <span class="nf">is_valid_date</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string represents a valid YYYY-MM-DD date.&#34;&#34;&#34;</span>
    <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d{4}-\d{2}-\d{2}$&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)):</span>
        <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">12</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">ym_days</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">monthrange</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">True</span> <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">day</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">1</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">day</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">ym_days</span><span class="p">)</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">is_number</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string represents a decimal number.&#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^-?(\d+\.?\d*|\d*\.?\d+)$&#39;</span><span class="p">,</span><span class="n">string</span><span class="p">)))</span>
    <span class="c1">#######</span>
    <span class="c1"># note: the test case of &#39;.&#39; is false</span>
    <span class="c1">#######</span>


<span class="k">def</span> <span class="nf">is_hex_color</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return True iff the string represents an RGB hex color code.&#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^#([0-9a-f]{3}|[0-9a-f]{6})$&#39;</span><span class="p">,</span><span class="n">string</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)))</span>
    <span class="c1">#######</span>
    <span class="c1"># note: (|) has to be between # and $</span>
    <span class="c1">#######</span>
</code></pre></div><p>¬†</p>
<h4 id="2-search-exercises">2. Search Exercises</h4>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;dictionary.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dict_file</span><span class="p">:</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="n">dict_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">get_extension</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return the file extension for a full file path.&#34;&#34;&#34;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\.(\w+)$&#39;</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">tetravocalic</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all words that have four consecutive vowels.&#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w*[aeiou]{4}\w*\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">hexadecimal</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all words consisting solely of the letters A to F.&#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[A-F]+\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">hexaconsonantal</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all words with six consecutive consonants.&#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w*[^aeiouy]{6}\w*\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">possible_words</span><span class="p">(</span><span class="n">partial_word</span><span class="p">,</span> <span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Return possible word matches from a partial word.
</span><span class="s2">
</span><span class="s2">    Underscores in partial words represent missing letters.  Examples:
</span><span class="s2">        C_T (cat, cot, cut)
</span><span class="s2">        _X_ (axe)
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="k">return</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b&#39;</span><span class="o">+</span><span class="n">partial_word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;\w&#39;</span><span class="p">)</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">five_repeats</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return all words with at least five occurrences of the given letter.&#34;&#34;&#34;</span>
    <span class="n">rep_letter</span> <span class="o">=</span> <span class="n">letter</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;\w*&#39;</span>
    <span class="k">return</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w*&#39;</span><span class="o">+</span><span class="n">rep_letter</span><span class="o">*</span><span class="mi">5</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">abbreviate</span><span class="p">(</span><span class="n">phrase</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return an acronym for the given phrase.&#34;&#34;&#34;</span>
    <span class="n">take_letters</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(\w)[a-z]*([A-Z])?[a-z]*\b&#39;</span><span class="p">,</span> <span class="n">phrase</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="n">take_letters</span><span class="p">))</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="c1">########</span>
    <span class="c1">## note: the test case of &#39;JavaScript Object Notation&#39; is JSON</span>
    <span class="c1">########</span>


<span class="k">def</span> <span class="nf">palindrome5</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return a list of all five letter palindromes.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(\w)(\w)\w\2\1\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)]</span>


<span class="k">def</span> <span class="nf">double_double</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Return words with a double repeated letter with one letter between.
</span><span class="s2">
</span><span class="s2">    Example double double words:
</span><span class="s2">    - freebee
</span><span class="s2">    - assessed
</span><span class="s2">    - voodoo
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b\w*(\w)\1\w\1\1\w*\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)]</span>


<span class="k">def</span> <span class="nf">repeaters</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Return words that consist of the same letters repeated two times.
</span><span class="s2">
</span><span class="s2">    Example double double words:
</span><span class="s2">    - tutu
</span><span class="s2">    - cancan
</span><span class="s2">    - murmur
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(\w+)\1\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)]</span>
</code></pre></div><p>¬†</p>
<h4 id="3-substitution-exercises">3. Substitution Exercises</h4>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">normalize_jpeg</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return the filename with jpeg extensions normalized.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;jpe?g&#39;</span><span class="p">,</span> <span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
    <span class="c1">#######</span>
    <span class="c1">## note: the flags argument</span>
    <span class="c1">## https://stackoverflow.com/questions/42581/python-re-sub-with-a-flag-does-not-replace-all-occurrences</span>
    <span class="c1">#######</span>

<span class="k">def</span> <span class="nf">normalize_whitespace</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Replace all runs of whitespace with a single space.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">normalize_domain</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Normalize all instances of treyhunner.com URLs.&#34;&#34;&#34;</span>
    <span class="k">def</span> <span class="nf">replace_domain</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
        <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">tcom</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">string</span> <span class="k">if</span> <span class="n">tcom</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s1">&#39;https://&#39;</span><span class="p">,</span> <span class="n">tcom</span><span class="p">,</span> <span class="n">rest</span><span class="p">))</span>
    <span class="n">domain_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(\w*://)?(www.)?(treyhunner.com)?(.*)&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">domain_re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">replace_domain</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
    <span class="c1">#######</span>
    <span class="c1">## note: is substitution function necessary?</span>
    <span class="c1">#######</span>

<span class="k">def</span> <span class="nf">convert_linebreaks</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Convert linebreaks to HTML.&#34;&#34;&#34;</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n{2,}&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;&lt;/p&gt;&lt;p&gt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\n&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">+</span><span class="n">s</span><span class="o">+</span><span class="s1">&#39;&lt;/p&gt;&#39;</span>

</code></pre></div><p>¬†</p>
<h4 id="4-lookahead-exercises">4. Lookahead Exercises</h4>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">have_all_vowels</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return all words at most 9 letters long that contain all vowels.&#34;&#34;&#34;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(?=\w*?a)(?=\w*?e)(?=\w*?i)(?=\w*?o)(?=\w*?u)\w{,9}\b&#39;</span><span class="p">,</span><span class="n">dictionary</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">m</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">]</span>
    <span class="c1">########</span>
    <span class="c1">## note:</span>
    <span class="c1">## https://stackoverflow.com/questions/54267095/what-is-the-regex-to-match-the-words-containing-all-the-vowels</span>
    <span class="c1">## use (x or None) to replace &#39;&#39; with None, because bool(&#39;&#39;) is false</span>
    <span class="c1">## cannot use  # m = re.findall(r&#39;\b(?=[^a]*?a)(?=[^e]*?e)(?=[^i]*?i)(?=[^o]*?o)(?=[^u]?u)\w{,9}\b&#39;,dictionary)</span>
    <span class="c1">########</span>

<span class="k">def</span> <span class="nf">no_repeats</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;Return all words with 10 or more letters and no repeating letters.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(?:([a-zA-Z])(?!.*\1)){10,}\b&#39;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)]</span>
    <span class="c1">########</span>
    <span class="c1">## note:</span>
    <span class="c1">## https://stackoverflow.com/questions/51358885/regex-no-character-should-repeat/51359047</span>
    <span class="c1">########</span>
</code></pre></div><p>¬†</p>
<p>¬†</p>
</div>
        <div class="post-footer">
            <div class="info">
                
                
            </div>
        </div>

        <div id="fb_comments_container">
              
                <h2></h2>
                <script src="https://utteranc.es/client.js"
        repo="xiangli2pro/xiangli2pro.github.io"
        issue-term="pathname"
        theme="github-light"
        
        crossorigin="anonymous"
        async>
</script>

            </div>
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="https://xiangli2pro.github.io/js/jquery.min.64d0083866906099f942140bc1c5cba4b1bf65783c52e4a63c5c46bf9dbc41f4.js"
        integrity="sha256-ZNAIOGaQYJn5QhQLwcXLpLG/ZXg8UuSmPFxGv528QfQ="
        crossorigin="anonymous"></script>




<script type="text/javascript"
        src="https://xiangli2pro.github.io/js/bundle.min.45159b0e20ba3878972e064b7edc464c31a9e35a0d0a6a71e3fec84efdbe2ea5.js"
        integrity="sha256-RRWbDiC6OHiXLgZLftxGTDGp41oNCmpx4/7ITv2&#43;LqU="
        crossorigin="anonymous"></script>

<script type="text/javascript"
        src="https://xiangli2pro.github.io/js/medium-zoom.min.2d6fd0be87fa98f0c9b4dc2536b312bbca48757f584f6ea1f394abc9bcc38fbc.js"
        integrity="sha256-LW/Qvof6mPDJtNwlNrMSu8pIdX9YT26h85SrybzDj7w="
        crossorigin="anonymous"></script><link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
              integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/&#43;DiW/UqRcLbRjq"
              crossorigin="anonymous"><script defer
                src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
                integrity="sha384-y23I5Q6l&#43;B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd&#43;qj&#43;o24G5ZU2zJz"
                crossorigin="anonymous"></script><script defer
                src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
                integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
                crossorigin="anonymous"
                onload="renderMathInElement(document.body);"></script></body>

</html>
